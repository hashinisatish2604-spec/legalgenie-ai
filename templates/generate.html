<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Generate Legal Document</title>
<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #0c1b33, #020617);
  color: white;
  font-family: "Segoe UI", sans-serif;
}
.container { width: 90%; margin: auto; padding: 30px 0; }
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 18px;
}
.card {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 14px;
  padding: 18px;
  cursor: pointer;
}
.card:hover { border-color: gold; }
.form-group { margin-bottom: 14px; }
label { font-size: 13px; display: block; margin-bottom: 5px; }
input, textarea {
  width: 100%;
  padding: 10px;
  background: #020617;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 6px;
  color: white;
}
textarea { min-height: 80px; }
button {
  width: 100%;
  margin-top: 20px;
  padding: 12px;
  background: gold;
  border: none;
  border-radius: 8px;
  font-weight: bold;
}
</style>
</head>

<body>
<div class="container">

<h2>Select Document</h2>

<div id="cardView" class="grid">
  <div class="card" onclick="openForm('Bail Application')">âš–ï¸ Bail Application</div>
  <div class="card" onclick="openForm('Anticipatory Bail')">ğŸ›¡ Anticipatory Bail</div>
  <div class="card" onclick="openForm('FIR Draft')">ğŸš“ FIR Draft</div>
  <div class="card" onclick="openForm('Affidavit')">ğŸ“„ Affidavit</div>
  <div class="card" onclick="openForm('Rent Agreement')">ğŸ  Rent Agreement</div>
  <div class="card" onclick="openForm('Will')">ğŸ“œ Will</div>
  <div class="card" onclick="openForm('Power of Attorney')">âœï¸ Power of Attorney</div>
  <div class="card" onclick="openForm('Custom')">â• Custom</div>
</div>

<div id="formView" style="display:none;">
  <form id="dynamicForm"></form>
  <button onclick="generateDoc()">Generate Document</button>
</div>

</div>

<script>
const formSchema = {

"Bail Application": [
  {name:"court_name",label:"Court Name",type:"text"},
  {name:"court_place",label:"Court Place",type:"text"},
  {name:"applicant_name",label:"Applicant Name",type:"text"},
  {name:"father_name",label:"Father/Husband Name",type:"text"},
  {name:"age",label:"Age",type:"number"},
  {name:"address",label:"Address",type:"textarea"},
  {name:"fir_number",label:"FIR Number",type:"text"},
  {name:"police_station",label:"Police Station",type:"text"},
  {name:"ipc_sections",label:"IPC Sections",type:"text"},
  {name:"date_of_arrest",label:"Date of Arrest",type:"date"},
  {name:"grounds",label:"Grounds for Bail",type:"textarea"},
  {name:"jurisdiction",label:"Jurisdiction City",type:"text"},
  {name:"date",label:"Application Date",type:"date"}
],

"Anticipatory Bail": [
  {name:"court_name",label:"Court Name",type:"text"},
  {name:"applicant_name",label:"Applicant Name",type:"text"},
  {name:"father_name",label:"Father/Husband Name",type:"text"},
  {name:"age",label:"Age",type:"number"},
  {name:"address",label:"Address",type:"textarea"},
  {name:"fir_number",label:"FIR Number",type:"text"},
  {name:"ipc_sections",label:"IPC Sections",type:"text"},
  {name:"police_station",label:"Police Station",type:"text"},
  {name:"apprehension_reason",label:"Reason for Apprehension",type:"textarea"},
  {name:"previous_cases",label:"Previous Cases (if any)",type:"textarea"},
  {name:"jurisdiction",label:"Jurisdiction City",type:"text"},
  {name:"date",label:"Application Date",type:"date"}
],

"FIR Draft": [
  {name:"police_station",label:"Police Station",type:"text"},
  {name:"district",label:"District",type:"text"},
  {name:"complainant_name",label:"Complainant Name",type:"text"},
  {name:"father_name",label:"Father/Husband Name",type:"text"},
  {name:"address",label:"Address",type:"textarea"},
  {name:"contact",label:"Contact Number",type:"text"},
  {name:"accused_name",label:"Accused Name",type:"text"},
  {name:"incident_date",label:"Incident Date",type:"date"},
  {name:"incident_time",label:"Incident Time",type:"time"},
  {name:"incident_place",label:"Incident Place",type:"text"},
  {name:"facts",label:"Facts of the Case",type:"textarea"},
  {name:"date",label:"FIR Date",type:"date"}
],

"Affidavit": [
  {name:"deponent_name",label:"Deponent Name",type:"text"},
  {name:"father_name",label:"Father/Husband Name",type:"text"},
  {name:"age",label:"Age",type:"number"},
  {name:"address",label:"Address",type:"textarea"},
  {name:"statement",label:"Affidavit Statement",type:"textarea"},
  {name:"purpose",label:"Purpose of Affidavit",type:"text"},
  {name:"place",label:"Place",type:"text"},
  {name:"date",label:"Date",type:"date"},
  {name:"id_proof",label:"ID Proof Details",type:"text"},
  {name:"verification",label:"Verification Statement",type:"textarea"},
  {name:"witness_1",label:"Witness 1 Name",type:"text"},
  {name:"witness_2",label:"Witness 2 Name",type:"text"}
],

"Rent Agreement": [
  {name:"owner_name",label:"Owner Name",type:"text"},
  {name:"tenant_name",label:"Tenant Name",type:"text"},
  {name:"owner_father",label:"Owner Father/Husband Name",type:"text"},
  {name:"tenant_father",label:"Tenant Father/Husband Name",type:"text"},
  {name:"property_address",label:"Property Address",type:"textarea"},
  {name:"rent_amount",label:"Monthly Rent",type:"number"},
  {name:"security_deposit",label:"Security Deposit",type:"number"},
  {name:"start_date",label:"Start Date",type:"date"},
  {name:"end_date",label:"End Date",type:"date"},
  {name:"notice_period",label:"Notice Period (Months)",type:"number"},
  {name:"jurisdiction",label:"Jurisdiction City",type:"text"},
  {name:"witness_1",label:"Witness 1 Name",type:"text"},
  {name:"witness_2",label:"Witness 2 Name",type:"text"}
],

"Will": [
  {name:"testator_name",label:"Testator Name",type:"text"},
  {name:"father_name",label:"Father/Husband Name",type:"text"},
  {name:"age",label:"Age",type:"number"},
  {name:"address",label:"Address",type:"textarea"},
  {name:"assets",label:"Assets Description",type:"textarea"},
  {name:"beneficiaries",label:"Beneficiaries",type:"textarea"},
  {name:"executor",label:"Executor Name",type:"text"},
  {name:"place",label:"Place",type:"text"},
  {name:"date",label:"Date of Will",type:"date"},
  {name:"witness_1",label:"Witness 1 Name",type:"text"},
  {name:"witness_2",label:"Witness 2 Name",type:"text"},
  {name:"revocation",label:"Revocation Clause",type:"textarea"}
],

"Power of Attorney": [
  {name:"principal_name",label:"Principal Name",type:"text"},
  {name:"principal_address",label:"Principal Address",type:"textarea"},
  {name:"agent_name",label:"Agent Name",type:"text"},
  {name:"agent_address",label:"Agent Address",type:"textarea"},
  {name:"powers",label:"Powers Granted",type:"textarea"},
  {name:"duration",label:"Duration",type:"text"},
  {name:"jurisdiction",label:"Jurisdiction City",type:"text"},
  {name:"place",label:"Place",type:"text"},
  {name:"date",label:"Date",type:"date"},
  {name:"revocation",label:"Revocation Clause",type:"textarea"},
  {name:"witness_1",label:"Witness 1 Name",type:"text"},
  {name:"witness_2",label:"Witness 2 Name",type:"text"}
],

"Custom": [
  {name:"custom_title",label:"Document Title",type:"text"},
  {name:"custom_text",label:"Document Content",type:"textarea"},
  {name:"place",label:"Place",type:"text"},
  {name:"date",label:"Date",type:"date"},
  {name:"party_1",label:"Party 1 Name",type:"text"},
  {name:"party_2",label:"Party 2 Name",type:"text"},
  {name:"jurisdiction",label:"Jurisdiction",type:"text"},
  {name:"witness_1",label:"Witness 1",type:"text"},
  {name:"witness_2",label:"Witness 2",type:"text"},
  {name:"notes",label:"Additional Notes",type:"textarea"},
  {name:"reference",label:"Reference",type:"text"},
  {name:"purpose",label:"Purpose",type:"text"}
]
};

let currentDocType="";

function openForm(type){
  currentDocType=type;
  document.getElementById("cardView").style.display="none";
  document.getElementById("formView").style.display="block";
  const form=document.getElementById("dynamicForm");
  form.innerHTML="";
  formSchema[type].forEach(f=>{
    form.innerHTML+=`
      <div class="form-group">
        <label>${f.label}</label>
        ${f.type==="textarea"
          ? `<textarea name="${f.name}"></textarea>`
          : `<input type="${f.type}" name="${f.name}">`}
      </div>`;
  });
}

function generateDoc(){
  const data={};
  document.querySelectorAll("[name]").forEach(e=>data[e.name]=e.value);
  fetch("/generate",{method:"POST",headers:{"Content-Type":"application/json"},
    body:JSON.stringify({doc_type:currentDocType,form_data:data})})
  .then(r=>r.blob()).then(b=>{
    const a=document.createElement("a");
    a.href=URL.createObjectURL(b);
    a.download=currentDocType+".docx";
    a.click();
  });
}
</script>
</body>
</html>
